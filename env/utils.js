function _defineProperty(that, name, map) {
    Object.defineProperty(that, name, {
        get: function() {
            util_log(that._name + "." + name + ".get() => "+_truncateOutput(map[name]));
            return map[name];
        },
        set: function(v) {
            util_log(that._name + "." + name + " = '"+_truncateOutput(v)+"'");
            map[name] = v;
        }
    })
}
function _truncateOutput(v) {
    if (typeof v === 'undefined')
        return "undefined";
    var vtrunc = "" + v.toString();
    if (vtrunc.length > 100) {
        vtrunc = vtrunc.substring(0,100) + " ... (truncated)";
    } 
    return vtrunc.replace(/[^\x20-\x7E]+/g, '?');
}
function _defineSingleProperty(that, name, intvar) {
    Object.defineProperty(that, name, {
        get: function() {
            util_log(that._name + "." + name + ".get() => "+_truncateOutput(that[intvar]));
            return that[intvar];
        },
        set: function(v) {
            util_log(that._name + "." + name + " = '"+_truncateOutput(v)+"'");
            that[intvar] = v;
        }
    })
}

